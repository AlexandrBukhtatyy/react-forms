# –†–µ—à–µ–Ω–∏—è: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏

## –ü—Ä–æ–±–ª–µ–º–∞

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**:
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `updateOn: 'change'` –∏–ª–∏ —è–≤–Ω–æ–º –≤—ã–∑–æ–≤–µ `validate()`
- –ï—Å–ª–∏ —É –ø–æ–ª—è –µ—Å—Ç—å –æ—à–∏–±–∫–∞, –æ–Ω–∞ –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è

**–ñ–µ–ª–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**:
- –û—à–∏–±–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ blur –∏–ª–∏ submit
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è (–µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞) ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –û—à–∏–±–∫–∞ –∏—Å—á–µ–∑–∞–µ—Ç —Å—Ä–∞–∑—É, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç–∞–ª–æ –≤–∞–ª–∏–¥–Ω—ã–º

---

## –†–µ—à–µ–Ω–∏–µ 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ—à–∏–±–æ–∫ ‚≠ê **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø**

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –µ—Å–ª–∏ —É –ø–æ–ª—è –µ—Å—Ç—å –æ—à–∏–±–∫–∏, —Ç–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏—è.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
// src/lib/forms/core/nodes/field-node.ts

setValue(value: T, options?: SetValueOptions): void {
  this._value.value = value;
  this._dirty.value = true;

  // –£—Å–ª–æ–≤–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
  // 1. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ: updateOn === 'change'
  // 2. –ù–û–í–û–ï: –ï—Å—Ç—å –æ—à–∏–±–∫–∏ ‚Üí –≤–∞–ª–∏–¥–∏—Ä—É–µ–º –¥–ª—è –∏—Ö –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
  const shouldValidate =
    options?.emitEvent !== false &&
    (this.updateOn === 'change' || this._errors.value.length > 0);

  if (shouldValidate) {
    this.validate();
  }
}
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```typescript
const emailField = new FieldNode({
  value: '',
  component: Input,
  validators: [required, email],
  updateOn: 'blur', // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ blur
});

// 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç "test" –∏ –ø–æ–∫–∏–¥–∞–µ—Ç –ø–æ–ª–µ
await emailField.validate(); // blur ‚Üí –æ—à–∏–±–∫–∞ "Invalid email"

// 2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∏–Ω–∞–µ—Ç –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å: –≤–≤–æ–¥–∏—Ç "test@"
emailField.setValue('test@');
// ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
// –û—à–∏–±–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è (–µ—â–µ –Ω–µ –≤–∞–ª–∏–¥–Ω—ã–π email)

// 3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ø–∏—Å—ã–≤–∞–µ—Ç: "test@mail.com"
emailField.setValue('test@mail.com');
// ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
// –û—à–∏–±–∫–∞ –∏—Å—á–µ–∑–∞–µ—Ç! üéâ
```

### –ü–ª—é—Å—ã

‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –æ–¥–Ω–∞ —Å—Ç—Ä–æ—á–∫–∞ –∫–æ–¥–∞
‚úÖ **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ—Å—Ç—å**: —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–º–µ–Ω–Ω–æ —Ç–∞–∫, –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –Ω–µ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ
‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º updateOn**: `blur`, `submit`, `change`

### –ú–∏–Ω—É—Å—ã

‚ùå **–ù–µ–ª—å–∑—è –æ—Ç–∫–ª—é—á–∏—Ç—å**: –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω–æ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π

---

## –†–µ—à–µ–Ω–∏–µ 2: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —Ä–µ–∂–∏–º validateOnErrorFix

### –û–ø–∏—Å–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª—è–µ–º –æ–ø—Ü–∏—é –≤ `FieldConfig` –¥–ª—è –≥–∏–±–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
// src/lib/forms/types/index.ts

export interface FieldConfig<T = any> {
  value: T;
  component?: ComponentType<any>;
  componentProps?: Record<string, any>;
  validators?: ValidatorFn<T>[];
  asyncValidators?: AsyncValidatorFn<T>[];
  disabled?: boolean;

  /**
   * –ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
   * @default 'change'
   */
  updateOn?: 'change' | 'blur' | 'submit';

  /**
   * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏
   * –ï—Å–ª–∏ true –∏ —É –ø–æ–ª—è –µ—Å—Ç—å –æ—à–∏–±–∫–∏, –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è
   * @default true
   */
  validateOnErrorFix?: boolean;

  debounce?: number;
}
```

```typescript
// src/lib/forms/core/nodes/field-node.ts

export class FieldNode<T = any> extends FormNode<T> {
  private validateOnErrorFix: boolean;

  constructor(config: FieldConfig<T>) {
    super();

    // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

    this.validateOnErrorFix = config.validateOnErrorFix ?? true; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–æ
  }

  setValue(value: T, options?: SetValueOptions): void {
    this._value.value = value;
    this._dirty.value = true;

    const shouldValidate =
      options?.emitEvent !== false &&
      (this.updateOn === 'change' ||
        (this.validateOnErrorFix && this._errors.value.length > 0));

    if (shouldValidate) {
      this.validate();
    }
  }
}
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```typescript
// –í–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
const emailField = new FieldNode({
  value: '',
  component: Input,
  validators: [required, email],
  updateOn: 'blur',
  // validateOnErrorFix: true, // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
});

// –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è
const usernameField = new FieldNode({
  value: '',
  component: Input,
  validators: [required, minLength(3)],
  updateOn: 'blur',
  validateOnErrorFix: false, // –û—Ç–∫–ª—é—á–µ–Ω–æ
});
```

### –ü–ª—é—Å—ã

‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å**: –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ–ª–µ–π
‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–æ
‚úÖ **–Ø–≤–Ω–æ—Å—Ç—å**: –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å**: –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∫–µ–π—Å–æ–≤

### –ú–∏–Ω—É—Å—ã

‚ùå **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ü–∏—è**: —É—Å–ª–æ–∂–Ω—è–µ—Ç API
‚ùå **–ù—É–∂–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å –æ–± –æ–ø—Ü–∏–∏

---

## –†–µ—à–µ–Ω–∏–µ 3: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π updateOn —Å —Ä–µ–∂–∏–º–æ–º 'blur-then-change'

### –û–ø–∏—Å–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —Ä–µ–∂–∏–º `updateOn: 'blur-then-change'` –∫–∞–∫ –≤ Angular Forms.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
// src/lib/forms/types/index.ts

export interface FieldConfig<T = any> {
  value: T;
  component?: ComponentType<any>;
  componentProps?: Record<string, any>;
  validators?: ValidatorFn<T>[];
  asyncValidators?: AsyncValidatorFn<T>[];
  disabled?: boolean;

  /**
   * –ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é:
   * - 'change': –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
   * - 'blur': —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞
   * - 'submit': —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã
   * - 'blur-then-change': –ø—Ä–∏ blur, –∑–∞—Ç–µ–º –ø—Ä–∏ –∫–∞–∂–¥–æ–º change (–µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏)
   * @default 'change'
   */
  updateOn?: 'change' | 'blur' | 'submit' | 'blur-then-change';

  debounce?: number;
}
```

```typescript
// src/lib/forms/core/nodes/field-node.ts

export class FieldNode<T = any> extends FormNode<T> {
  private updateOn: 'change' | 'blur' | 'submit' | 'blur-then-change';
  private hasBeenValidated: boolean = false;

  constructor(config: FieldConfig<T>) {
    super();

    this.updateOn = config.updateOn || 'change';
    // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  }

  setValue(value: T, options?: SetValueOptions): void {
    this._value.value = value;
    this._dirty.value = true;

    if (options?.emitEvent === false) {
      return;
    }

    // –õ–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
    const shouldValidate =
      this.updateOn === 'change' ||
      (this.updateOn === 'blur-then-change' &&
       (this.hasBeenValidated && this._errors.value.length > 0));

    if (shouldValidate) {
      this.validate();
    }
  }

  async validate(options?: { debounce?: number }): Promise<boolean> {
    this.hasBeenValidated = true; // –û—Ç–º–µ—á–∞–µ–º —á—Ç–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è –±—ã–ª–∞ –∑–∞–ø—É—â–µ–Ω–∞

    // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  }

  markAsTouched(): void {
    this._touched.value = true;

    // –ü—Ä–∏ blur –∑–∞–ø—É—Å–∫–∞–µ–º –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è 'blur' –∏ 'blur-then-change'
    if (this.updateOn === 'blur' || this.updateOn === 'blur-then-change') {
      this.validate();
    }
  }
}
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```typescript
// –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ: –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ blur, –∑–∞—Ç–µ–º –ø—Ä–∏ –∫–∞–∂–¥–æ–º change
const emailField = new FieldNode({
  value: '',
  component: Input,
  validators: [required, email],
  updateOn: 'blur-then-change', // ‚ú® –ù–æ–≤—ã–π —Ä–µ–∂–∏–º
});

// 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç "test" ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–µ—Ç
// 2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∫–∏–¥–∞–µ—Ç –ø–æ–ª–µ (blur) ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è, –æ—à–∏–±–∫–∞
// 3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º change
```

### –ü–ª—é—Å—ã

‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥**: –∫–∞–∫ –≤ Angular Forms
‚úÖ **–ü–æ–Ω—è—Ç–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞**: –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –≥–æ–≤–æ—Ä–∏—Ç —Å–∞–º–æ –∑–∞ —Å–µ–±—è
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å**: –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–π —Ä–µ–∂–∏–º
‚úÖ **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ä–µ–∂–∏–º—ã

### –ú–∏–Ω—É—Å—ã

‚ùå **Breaking change**: –Ω–æ–≤—ã–π —Ç–∏–ø –¥–ª—è `updateOn`
‚ùå **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `hasBeenValidated`
‚ùå **–ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–∏–ø—ã**: –≤–µ–∑–¥–µ –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `updateOn`

---

## –†–µ—à–µ–Ω–∏–µ 4: Hybrid - –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –†–µ—à–µ–Ω–∏—è 1 –∏ 2

### –û–ø–∏—Å–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ—Å—Ç—É—é –ª–æ–≥–∏–∫—É –∏–∑ –†–µ—à–µ–Ω–∏—è 1, –Ω–æ –¥–æ–±–∞–≤–ª—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –æ–ø—Ü–∏—é.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
// src/lib/forms/types/index.ts

export interface FieldConfig<T = any> {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è

  /**
   * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏
   * @default true
   */
  revalidateOnChange?: boolean;
}
```

```typescript
// src/lib/forms/core/nodes/field-node.ts

export class FieldNode<T = any> extends FormNode<T> {
  private revalidateOnChange: boolean;

  constructor(config: FieldConfig<T>) {
    super();
    this.revalidateOnChange = config.revalidateOnChange ?? true;
  }

  setValue(value: T, options?: SetValueOptions): void {
    this._value.value = value;
    this._dirty.value = true;

    if (options?.emitEvent === false) {
      return;
    }

    // –ü—Ä–æ—Å—Ç–∞—è –∏ –ø–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞
    const shouldRevalidate =
      this.revalidateOnChange && this._errors.value.length > 0;

    const shouldValidate =
      this.updateOn === 'change' || shouldRevalidate;

    if (shouldValidate) {
      this.validate();
    }
  }
}
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```typescript
// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–æ
const emailField = new FieldNode({
  value: '',
  component: Input,
  validators: [required, email],
  updateOn: 'blur',
});

// –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å
const passwordField = new FieldNode({
  value: '',
  component: Input,
  validators: [required, minLength(8)],
  updateOn: 'blur',
  revalidateOnChange: false, // –û—Ç–∫–ª—é—á–∞–µ–º —Ä–µ–≤–∞–ª–∏–¥–∞—Ü–∏—é
});
```

### –ü–ª—é—Å—ã

‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç –ª—É—á—à–µ–µ –∏–∑ –†–µ—à–µ–Ω–∏—è 1 –∏ 2
‚úÖ **–ü–æ–Ω—è—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ**: `revalidateOnChange` - –≥–æ–≤–æ—Ä—è—â–µ–µ –∏–º—è
‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å**: –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –ú–∏–Ω—É—Å—ã

‚ùå **–ï—â–µ –æ–¥–Ω–∞ –æ–ø—Ü–∏—è**: —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç API

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –†–µ—à–µ–Ω–∏–µ 1<br/>(–ê–≤—Ç–æ) | –†–µ—à–µ–Ω–∏–µ 2<br/>(validateOnErrorFix) | –†–µ—à–µ–Ω–∏–µ 3<br/>(blur-then-change) | –†–µ—à–µ–Ω–∏–µ 4<br/>(Hybrid) |
|----------|---------------------|-----------------------------------|----------------------------------|----------------------|
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–ì–∏–±–∫–æ—Å—Ç—å** | ‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å API** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—Å—Ç—å** | ‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê |

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### üèÜ **–†–µ—à–µ–Ω–∏–µ 1 (–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è)** - –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—Å–ª–∏**:
- –ù—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ —É–ª—É—á—à–∏—Ç—å UX
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≥–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–æ–ª–µ–π –¥–æ–ª–∂–Ω—ã –≤–µ—Å—Ç–∏ —Å–µ–±—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ

**–ü—Ä–∏–º–µ—Ä**:
```typescript
// –û–¥–Ω–∞ —Å—Ç—Ä–æ—á–∫–∞ –∫–æ–¥–∞ - –∏ –≥–æ—Ç–æ–≤–æ!
const shouldValidate =
  options?.emitEvent !== false &&
  (this.updateOn === 'change' || this._errors.value.length > 0);
```

---

### üéØ **–†–µ—à–µ–Ω–∏–µ 4 (Hybrid)** - –¥–ª—è production

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—Å–ª–∏**:
- –ù—É–∂–µ–Ω –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ—Å—Ç–æ—Ç–æ–π –∏ –≥–∏–±–∫–æ—Å—Ç—å—é
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—è —Ç—Ä–µ–±—É—é—Ç –æ—Å–æ–±–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- –í–∞–∂–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

**–ü—Ä–∏–º–µ—Ä**:
```typescript
const emailField = new FieldNode({
  value: '',
  validators: [required, email],
  updateOn: 'blur',
  // revalidateOnChange: true, // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
});
```

---

### üìö **–†–µ—à–µ–Ω–∏–µ 3 (blur-then-change)** - –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ–æ—Ä–º

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—Å–ª–∏**:
- –ù—É–∂–µ–Ω —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–∫–∞–∫ –≤ Angular)
- –¢—Ä–µ–±—É–µ—Ç—Å—è —è–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –º–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä**:
```typescript
const field = new FieldNode({
  value: '',
  validators: [required],
  updateOn: 'blur-then-change', // –Ø–≤–Ω—ã–π —Ä–µ–∂–∏–º
});
```

---

## –ú–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—É—Ç—å

### –î–ª—è –†–µ—à–µ–Ω–∏—è 1 (–ê–≤—Ç–æ)

1. –ò–∑–º–µ–Ω–∏—Ç—å –º–µ—Ç–æ–¥ `setValue()` –≤ FieldNode
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–æ—Ä–º–∞—Ö
3. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –î–ª—è –†–µ—à–µ–Ω–∏—è 4 (Hybrid)

1. –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏—é `revalidateOnChange` –≤ `FieldConfig`
2. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä FieldNode
3. –ò–∑–º–µ–Ω–∏—Ç—å –º–µ—Ç–æ–¥ `setValue()`
4. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –î–ª—è –†–µ—à–µ–Ω–∏—è 3 (blur-then-change)

1. –†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–∏–ø `updateOn` –≤ `FieldConfig`
2. –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ `hasBeenValidated` –≤ FieldNode
3. –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ `setValue()` –∏ `validate()`
4. –û–±–Ω–æ–≤–∏—Ç—å `markAsTouched()` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞
5. –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–æ—Ä–º—ã
